{"version":3,"sources":["uni-app:///main.js","webpack:///D:/workspace/wechat/wechatapp-moive/pages/tabBar/cinema/cinema.vue?24e2","webpack:///D:/workspace/wechat/wechatapp-moive/pages/tabBar/cinema/cinema.vue?cd70","webpack:///D:/workspace/wechat/wechatapp-moive/pages/tabBar/cinema/cinema.vue?403a","webpack:///D:/workspace/wechat/wechatapp-moive/pages/tabBar/cinema/cinema.vue?d83b","uni-app:///pages/tabBar/cinema/cinema.vue","webpack:///D:/workspace/wechat/wechatapp-moive/pages/tabBar/cinema/cinema.vue?9816","webpack:///D:/workspace/wechat/wechatapp-moive/pages/tabBar/cinema/cinema.vue?a5ee"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","filterNav","cinemaSection","nothing","loadingMore","data","city","params","day","offset","limit","districtId","lineId","hallType","brandId","serviceId","areaId","stationId","item","updateShowDay","cinemas","cityCinemaInfo","loadComplete","isShow","onLoad","app","onShow","onReachBottom","onShareAppMessage","title","path","methods","initPage","uni","url","success","_this","getCinemas","resolve","changeCondition","obj","toggleShow"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,eAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;AACa;;;AAGlE;AACqL;AACrL,gBAAgB,yLAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,oMAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC1CA;AAAA;AAAA;AAAA;AAA6rB,CAAgB,4qBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgCjtB;AACA;AAAA,eACA;EACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;QACA;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAhB;MACA;MACAiB;MACA;MACAC;MACA;MACAC;MACA;MACAC;IACA;EACA;EACAC;IAAA;IACA;MACA;QACAlB;MACA;IACA;MACAmB;QACA;UACAnB;QACA;MACA;IACA;IACA;EACA;EACAoB;IACA;MACA;QACApB;MACA;IACA;EACA;EACA;EACAqB;IACA;MACA;IACA;IACA,6CACA;MACAlB;IAAA,EACA;IACA;EACA;EACA;EACAmB;IACA;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACAC;MACAC;QACAJ;MACA;MACA;MACA;QACAI;MACA;MACAA;QACAC;QACAC;UACAC;YACAf;UACA;QACA;MACA;IACA;IAEA;IACAgB;MACA;MACA;QACAJ;UACAC;UACA7B;UACA8B;YACAG;YACAF;cACAhB;cACAE;YACA;UACA;QACA;MACA;IACA;IAEA;IACAiB;MAAA;MACA;MACAN;QACAJ;MACA;MACA;QACAtB,wCACA,cACAiC,IACA;QACApB;QACAjB;MACA;QACA;UACA;YACA;cACAA;YACA;UACA;UACA8B;QACA;MACA;IACA;IAEA;IACAQ;MACA;MACA;QACAlB;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACpLA;AAAA;AAAA;AAAA;AAAo/B,CAAgB,y7BAAG,EAAC,C;;;;;;;;;;;ACAxgC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/tabBar/cinema/cinema.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/tabBar/cinema/cinema.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./cinema.vue?vue&type=template&id=ba1d5692&\"\nvar renderjs\nimport script from \"./cinema.vue?vue&type=script&lang=js&\"\nexport * from \"./cinema.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cinema.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/tabBar/cinema/cinema.vue\"\nexport default component.exports","export * from \"-!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cinema.vue?vue&type=template&id=ba1d5692&\"","var components\ntry {\n  components = {\n    filterNav: function () {\n      return import(\n        /* webpackChunkName: \"components/filter-nav/filter-nav\" */ \"@/components/filter-nav/filter-nav.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = !_vm.loadComplete && _vm.cinemas.length\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cinema.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cinema.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\" :style=\"'position:'+(isShow?'fixed':'')\">\r\n\t\t<view class=\"topbar\">\r\n\t\t\t<navigator class=\"city-entry\" url=\"../../subPages/city-select/city-select\">\r\n\t\t\t\t<text class=\"city-name\">{{city}}</text>\r\n\t\t\t\t<text class=\"city-entry-arrow\"></text>\r\n\t\t\t</navigator>\r\n\t\t\t<navigator url=\"../../subPages/search-page/search-page?stype=2\" class=\"search-input\">\r\n\t\t\t\t<text class=\"iconfont icon-sousuo\"></text>搜影院\r\n\t\t\t</navigator>\r\n\t\t</view>\r\n\t\t<view class=\"nav-wrapper\">\r\n\t\t\t<filter-nav :city-cinema-info=\"cityCinemaInfo\" @change=\"changeCondition\" @toggleShow=\"toggleShow\"></filter-nav>\r\n\t\t</view>\r\n\t\t<view class=\"cinema-list\">\r\n\t\t\t<cinemaSection compName=\"cinemaSection\" :data=\"{cinema}\" v-for=\"(cinema,index) in (cinemas)\" :key=\"index\">\r\n\t\t\t</cinemaSection>\r\n\t\t</view>\r\n\t\t<view v-if=\"(!loadComplete && cinemas.length)\">\r\n\t\t\t<loadingMore compName=\"loadingMore\"></loadingMore>\r\n\t\t</view>\r\n\t\t<view v-if=\"(nothing)\">\r\n\t\t\t<nothing compName=\"nothing\" :data=\"{message:\" 暂无符合条件的影院\"}\"></nothing>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport filterNav from \"@/components/filter-nav/filter-nav\";\r\n\timport cinemaSection from \"../../../templates/cinemaSection/cinemaSection.vue\";\r\n\timport nothing from \"../../../templates/nothing/nothing.vue\";\r\n\timport loadingMore from \"../../../templates/loadingMore/loadingMore.vue\";\r\n\tconst util = require('../../../utils/util.js');\r\n\tconst app = getApp();\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tfilterNav,\r\n\t\t\tcinemaSection,\r\n\t\t\tnothing,\r\n\t\t\tloadingMore\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcity: '正在定位...',\r\n\t\t\t\tparams: {\r\n\t\t\t\t\t//url请求参数对象\r\n\t\t\t\t\tday: util.getToday(),\r\n\t\t\t\t\toffset: 0,\r\n\t\t\t\t\tlimit: 20,\r\n\t\t\t\t\tdistrictId: -1,\r\n\t\t\t\t\tlineId: -1,\r\n\t\t\t\t\thallType: -1,\r\n\t\t\t\t\tbrandId: -1,\r\n\t\t\t\t\tserviceId: -1,\r\n\t\t\t\t\tareaId: -1,\r\n\t\t\t\t\tstationId: -1,\r\n\t\t\t\t\titem: '',\r\n\t\t\t\t\tupdateShowDay: false\r\n\t\t\t\t},\r\n\t\t\t\tnothing: false,\r\n\t\t\t\t//结果是否为空\r\n\t\t\t\tcinemas: [],\r\n\t\t\t\t//影院列表\r\n\t\t\t\tcityCinemaInfo: {},\r\n\t\t\t\t//城市影院信息\r\n\t\t\t\tloadComplete: false,\r\n\t\t\t\t//数据是否加载完\r\n\t\t\t\tisShow: false //导航下拉框是否展开\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tif (app.globalData.userLocation) {\r\n\t\t\t\tthis.setData({\r\n\t\t\t\t\tcity: app.globalData.selectCity ? app.globalData.selectCity.cityName : '定位失败'\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tapp.globalData.userLocationReadyCallback = () => {\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\tcity: app.globalData.selectCity ? app.globalData.selectCity.cityName : '定位失败'\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tthis.initPage();\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tif (app.globalData.selectCity) {\r\n\t\t\t\tthis.setData({\r\n\t\t\t\t\tcity: app.globalData.selectCity.cityName\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t//上拉触底加载更多\r\n\t\tonReachBottom() {\r\n\t\t\tif (this.loadComplete) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst params = {\r\n\t\t\t\t...this.params,\r\n\t\t\t\toffset: this.cinemas.length\r\n\t\t\t};\r\n\t\t\tthis.getCinemas(params);\r\n\t\t},\r\n\t\t//转发\r\n\t\tonShareAppMessage(res) {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: '快来看看附近的电影院',\r\n\t\t\t\tpath: 'pages/tabBar/movie/movie'\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//初始化页面\r\n\t\t\tinitPage() {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '正在加载...'\r\n\t\t\t\t});\r\n\t\t\t\tconst _this = this;\r\n\t\t\t\tthis.getCinemas(this.params).then(() => {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t});\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: 'https://m.maoyan.com/ajax/filterCinemas',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t_this.setData({\r\n\t\t\t\t\t\t\tcityCinemaInfo: res.data\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t//获取影院列表\r\n\t\t\tgetCinemas(params) {\r\n\t\t\t\tconst _this = this;\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: 'https://m.maoyan.com/ajax/cinemaList',\r\n\t\t\t\t\t\tdata: params,\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tresolve(res.data.cinemas);\r\n\t\t\t\t\t\t\t_this.setData({\r\n\t\t\t\t\t\t\t\tcinemas: _this.cinemas.concat(res.data.cinemas),\r\n\t\t\t\t\t\t\t\tloadComplete: !res.data.paging.hasMore\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t//当过滤条件变化时调用的函数\r\n\t\t\tchangeCondition(e) {\r\n\t\t\t\tconst obj = e.detail;\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '正在加载...'\r\n\t\t\t\t});\r\n\t\t\t\tthis.setData({\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t...this.params,\r\n\t\t\t\t\t\t...obj\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcinemas: [],\r\n\t\t\t\t\tnothing: false\r\n\t\t\t\t}, () => {\r\n\t\t\t\t\tthis.getCinemas(this.params).then(list => {\r\n\t\t\t\t\t\tif (!list.length) {\r\n\t\t\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\t\t\tnothing: true\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t//导航下拉框状态变化时的处理\r\n\t\t\ttoggleShow(e) {\r\n\t\t\t\tconst item = e.detail.item;\r\n\t\t\t\tthis.setData({\r\n\t\t\t\t\tisShow: item !== -1\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style>\r\n\t/* @import \"../../../templates/cinemaSection/cinemaSection.css\"; */\r\n\r\n\t.topbar {\r\n\t\tposition: fixed;\r\n\t\twidth: 100vw;\r\n\t\ttop: 0;\r\n\t\theight: 90rpx;\r\n\t\tborder: none;\r\n\t\tbackground-color: #f5f5f5;\r\n\t}\r\n\r\n\t.search-input {\r\n\t\tflex-grow: 1;\r\n\t\theight: 56rpx;\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #999;\r\n\t\tborder: 1rpx solid #e6e6e6;\r\n\t\tborder-radius: 10rpx;\r\n\t\tmargin: 0 30rpx;\r\n\t\tbackground: #fff;\r\n\t\tline-height: 56rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.icon-sousuo {\r\n\t\tdisplay: inline-block;\r\n\t\tmargin-right: 10rpx;\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999;\r\n\t}\r\n\r\n\t.nav-wrapper {\r\n\t\tposition: fixed;\r\n\t\tz-index: 10;\r\n\t\ttop: 90rpx;\r\n\t\tleft: 0;\r\n\t\twidth: 100vw;\r\n\t\theight: 80rpx;\r\n\t\tbackground: #fff;\r\n\t}\r\n\r\n\t.cinema-list {\r\n\t\tmargin-top: 170rpx;\r\n\t}\r\n\r\n\t::-webkit-scrollbar {\r\n\t\twidth: 0;\r\n\t\theight: 0;\r\n\t\tcolor: transparent;\r\n\t}\r\n</style>","import mod from \"-!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cinema.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cinema.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1689142076493\n      var cssReload = require(\"D:/Application/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}