{"version":3,"sources":["uni-app:///main.js","webpack:////Users/wenye/Documents/WeChatProjects/wechatapp-moive/pages/tabBar/cinema/cinema.vue?24a6","webpack:////Users/wenye/Documents/WeChatProjects/wechatapp-moive/pages/tabBar/cinema/cinema.vue?dd6e","webpack:////Users/wenye/Documents/WeChatProjects/wechatapp-moive/pages/tabBar/cinema/cinema.vue?2e75","webpack:////Users/wenye/Documents/WeChatProjects/wechatapp-moive/pages/tabBar/cinema/cinema.vue?fe66","uni-app:///pages/tabBar/cinema/cinema.vue","webpack:////Users/wenye/Documents/WeChatProjects/wechatapp-moive/pages/tabBar/cinema/cinema.vue?51a5","webpack:////Users/wenye/Documents/WeChatProjects/wechatapp-moive/pages/tabBar/cinema/cinema.vue?cfb1"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","filterNav","cinemaSection","nothing","loadingMore","data","city","params","day","offset","limit","districtId","lineId","hallType","brandId","serviceId","areaId","stationId","item","updateShowDay","cinemas","cityCinemaInfo","loadComplete","isShow","onLoad","app","onShow","onReachBottom","onShareAppMessage","title","path","methods","initPage","uni","url","success","_this","getCinemas","resolve","changeCondition","obj","toggleShow"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,eAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;AACa;;;AAGlE;AACmN;AACnN,gBAAgB,iNAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,oMAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC1CA;AAAA;AAAA;AAAA;AAAm1B,CAAgB,oyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgCv2B;AACA;AAAA,eACA;EACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;QACA;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAhB;MACA;MACAiB;MACA;MACAC;MACA;MACAC;MACA;MACAC;IACA;EACA;EACAC;IAAA;IACA;MACA;QACAlB;MACA;IACA;MACAmB;QACA;UACAnB;QACA;MACA;IACA;IACA;EACA;EACAoB;IACA;MACA;QACApB;MACA;IACA;EACA;EACA;EACAqB;IACA;MACA;IACA;IACA,6CACA;MACAlB;IAAA,EACA;IACA;EACA;EACA;EACAmB;IACA;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACAC;MACAC;QACAJ;MACA;MACA;MACA;QACAI;MACA;MACAA;QACAC;QACAC;UACAC;YACAf;UACA;QACA;MACA;IACA;IAEA;IACAgB;MACA;MACA;QACAJ;UACAC;UACA7B;UACA8B;YACAG;YACAF;cACAhB;cACAE;YACA;UACA;QACA;MACA;IACA;IAEA;IACAiB;MAAA;MACA;MACAN;QACAJ;MACA;MACA;QACAtB,wCACA,cACAiC,IACA;QACApB;QACAjB;MACA;QACA;UACA;YACA;cACAA;YACA;UACA;UACA8B;QACA;MACA;IACA;IAEA;IACAQ;MACA;MACA;QACAlB;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACpLA;AAAA;AAAA;AAAA;AAAssC,CAAgB,imCAAG,EAAC,C;;;;;;;;;;;ACA1tC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/tabBar/cinema/cinema.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/tabBar/cinema/cinema.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./cinema.vue?vue&type=template&id=ba1d5692&\"\nvar renderjs\nimport script from \"./cinema.vue?vue&type=script&lang=js&\"\nexport * from \"./cinema.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cinema.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/tabBar/cinema/cinema.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cinema.vue?vue&type=template&id=ba1d5692&\"","var components\ntry {\n  components = {\n    filterNav: function () {\n      return import(\n        /* webpackChunkName: \"components/filter-nav/filter-nav\" */ \"@/components/filter-nav/filter-nav.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = !_vm.loadComplete && _vm.cinemas.length\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cinema.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cinema.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"container\" :style=\"'position:'+(isShow?'fixed':'')\">\n\t\t<view class=\"topbar\">\n\t\t\t<navigator class=\"city-entry\" url=\"../../subPages/city-select/city-select\">\n\t\t\t\t<text class=\"city-name\">{{city}}</text>\n\t\t\t\t<text class=\"city-entry-arrow\"></text>\n\t\t\t</navigator>\n\t\t\t<navigator url=\"../../subPages/search-page/search-page?stype=2\" class=\"search-input\">\n\t\t\t\t<text class=\"iconfont icon-sousuo\"></text>搜影院\n\t\t\t</navigator>\n\t\t</view>\n\t\t<view class=\"nav-wrapper\">\n\t\t\t<filter-nav :city-cinema-info=\"cityCinemaInfo\" @change=\"changeCondition\" @toggleShow=\"toggleShow\"></filter-nav>\n\t\t</view>\n\t\t<view class=\"cinema-list\">\n\t\t\t<cinemaSection compName=\"cinemaSection\" :data=\"{cinema}\" v-for=\"(cinema,index) in (cinemas)\" :key=\"index\">\n\t\t\t</cinemaSection>\n\t\t</view>\n\t\t<view v-if=\"(!loadComplete && cinemas.length)\">\n\t\t\t<loadingMore compName=\"loadingMore\"></loadingMore>\n\t\t</view>\n\t\t<view v-if=\"(nothing)\">\n\t\t\t<nothing compName=\"nothing\" :data=\"{message:\" 暂无符合条件的影院\"}\"></nothing>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\timport filterNav from \"@/components/filter-nav/filter-nav\";\n\timport cinemaSection from \"../../../templates/cinemaSection/cinemaSection.vue\";\n\timport nothing from \"../../../templates/nothing/nothing.vue\";\n\timport loadingMore from \"../../../templates/loadingMore/loadingMore.vue\";\n\tconst util = require('../../../utils/util.js');\n\tconst app = getApp();\n\texport default {\n\t\tcomponents: {\n\t\t\tfilterNav,\n\t\t\tcinemaSection,\n\t\t\tnothing,\n\t\t\tloadingMore\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcity: '正在定位...',\n\t\t\t\tparams: {\n\t\t\t\t\t//url请求参数对象\n\t\t\t\t\tday: util.getToday(),\n\t\t\t\t\toffset: 0,\n\t\t\t\t\tlimit: 20,\n\t\t\t\t\tdistrictId: -1,\n\t\t\t\t\tlineId: -1,\n\t\t\t\t\thallType: -1,\n\t\t\t\t\tbrandId: -1,\n\t\t\t\t\tserviceId: -1,\n\t\t\t\t\tareaId: -1,\n\t\t\t\t\tstationId: -1,\n\t\t\t\t\titem: '',\n\t\t\t\t\tupdateShowDay: false\n\t\t\t\t},\n\t\t\t\tnothing: false,\n\t\t\t\t//结果是否为空\n\t\t\t\tcinemas: [],\n\t\t\t\t//影院列表\n\t\t\t\tcityCinemaInfo: {},\n\t\t\t\t//城市影院信息\n\t\t\t\tloadComplete: false,\n\t\t\t\t//数据是否加载完\n\t\t\t\tisShow: false //导航下拉框是否展开\n\t\t\t};\n\t\t},\n\t\tonLoad() {\n\t\t\tif (app.globalData.userLocation) {\n\t\t\t\tthis.setData({\n\t\t\t\t\tcity: app.globalData.selectCity ? app.globalData.selectCity.cityName : '定位失败'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tapp.globalData.userLocationReadyCallback = () => {\n\t\t\t\t\tthis.setData({\n\t\t\t\t\t\tcity: app.globalData.selectCity ? app.globalData.selectCity.cityName : '定位失败'\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t}\n\t\t\tthis.initPage();\n\t\t},\n\t\tonShow() {\n\t\t\tif (app.globalData.selectCity) {\n\t\t\t\tthis.setData({\n\t\t\t\t\tcity: app.globalData.selectCity.cityName\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t//上拉触底加载更多\n\t\tonReachBottom() {\n\t\t\tif (this.loadComplete) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst params = {\n\t\t\t\t...this.params,\n\t\t\t\toffset: this.cinemas.length\n\t\t\t};\n\t\t\tthis.getCinemas(params);\n\t\t},\n\t\t//转发\n\t\tonShareAppMessage(res) {\n\t\t\treturn {\n\t\t\t\ttitle: '快来看看附近的电影院',\n\t\t\t\tpath: 'pages/tabBar/movie/movie'\n\t\t\t};\n\t\t},\n\t\tmethods: {\n\t\t\t//初始化页面\n\t\t\tinitPage() {\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '正在加载...'\n\t\t\t\t});\n\t\t\t\tconst _this = this;\n\t\t\t\tthis.getCinemas(this.params).then(() => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t});\n\t\t\t\tuni.request({\n\t\t\t\t\turl: 'https://m.maoyan.com/ajax/filterCinemas',\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t_this.setData({\n\t\t\t\t\t\t\tcityCinemaInfo: res.data\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t//获取影院列表\n\t\t\tgetCinemas(params) {\n\t\t\t\tconst _this = this;\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\tuni.request({\n\t\t\t\t\t\turl: 'https://m.maoyan.com/ajax/cinemaList',\n\t\t\t\t\t\tdata: params,\n\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\tresolve(res.data.cinemas);\n\t\t\t\t\t\t\t_this.setData({\n\t\t\t\t\t\t\t\tcinemas: _this.cinemas.concat(res.data.cinemas),\n\t\t\t\t\t\t\t\tloadComplete: !res.data.paging.hasMore\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t//当过滤条件变化时调用的函数\n\t\t\tchangeCondition(e) {\n\t\t\t\tconst obj = e.detail;\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '正在加载...'\n\t\t\t\t});\n\t\t\t\tthis.setData({\n\t\t\t\t\tparams: {\n\t\t\t\t\t\t...this.params,\n\t\t\t\t\t\t...obj\n\t\t\t\t\t},\n\t\t\t\t\tcinemas: [],\n\t\t\t\t\tnothing: false\n\t\t\t\t}, () => {\n\t\t\t\t\tthis.getCinemas(this.params).then(list => {\n\t\t\t\t\t\tif (!list.length) {\n\t\t\t\t\t\t\tthis.setData({\n\t\t\t\t\t\t\t\tnothing: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t//导航下拉框状态变化时的处理\n\t\t\ttoggleShow(e) {\n\t\t\t\tconst item = e.detail.item;\n\t\t\t\tthis.setData({\n\t\t\t\t\tisShow: item !== -1\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n</script>\n\n<style>\n\t/* @import \"../../../templates/cinemaSection/cinemaSection.css\"; */\n\n\t.topbar {\n\t\tposition: fixed;\n\t\twidth: 100vw;\n\t\ttop: 0;\n\t\theight: 90rpx;\n\t\tborder: none;\n\t\tbackground-color: #f5f5f5;\n\t}\n\n\t.search-input {\n\t\tflex-grow: 1;\n\t\theight: 56rpx;\n\t\tfont-size: 26rpx;\n\t\tcolor: #999;\n\t\tborder: 1rpx solid #e6e6e6;\n\t\tborder-radius: 10rpx;\n\t\tmargin: 0 30rpx;\n\t\tbackground: #fff;\n\t\tline-height: 56rpx;\n\t\ttext-align: center;\n\t}\n\n\t.icon-sousuo {\n\t\tdisplay: inline-block;\n\t\tmargin-right: 10rpx;\n\t\tfont-size: 24rpx;\n\t\tcolor: #999;\n\t}\n\n\t.nav-wrapper {\n\t\tposition: fixed;\n\t\tz-index: 10;\n\t\ttop: 90rpx;\n\t\tleft: 0;\n\t\twidth: 100vw;\n\t\theight: 80rpx;\n\t\tbackground: #fff;\n\t}\n\n\t.cinema-list {\n\t\tmargin-top: 170rpx;\n\t}\n\n\t::-webkit-scrollbar {\n\t\twidth: 0;\n\t\theight: 0;\n\t\tcolor: transparent;\n\t}\n</style>","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cinema.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cinema.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1693186626845\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}